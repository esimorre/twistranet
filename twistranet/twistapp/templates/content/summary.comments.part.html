{% comment %} XXX TODO JMG : never use {{ content.id }} ad css id >> need also some refactoring in comment.js  {% endcomment %}
{% load i18n %}
{% with content.comments.count as comment_count %}
<li
  {% if comment_count > 2 %}
      class="view-all-comments"
  {% else %}
      {% if content.publisher.can_publish and  not comment_count %}
          class="add-comment"
      {% endif %}
  {% endif %}
    >
    <div class="comment_ui" id="view{{ content.id }}">
        <a class="view_comments" id="{{ content.id }}" href="">
            {% if comment_count > 2 %}
                    {% blocktrans %}View all {{comment_count}} comments{% endblocktrans %}
            {% else %}
                {% if content.publisher.can_publish and  not comment_count %}
                    {% blocktrans %}Comment{% endblocktrans %}
                {% endif %}
            {% endif %}
        </a>
    </div>
</li>
{% endwith %}